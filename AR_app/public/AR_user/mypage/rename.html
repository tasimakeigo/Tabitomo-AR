<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="static/mypage.css">
    <script src="../js/user.js"></script>

    <title>マイページ</title>
</head>

<body>

    <header>
        <h1>マイページ</h1>
        <ul>
            <li><p id="username-display"></p></li> <!-- ユーザー名表示用 -->
            <li><p><a href="../logout.html">ログアウト</a></p></li>
        </ul>
    </header>

    <div class="content">
        <div class="name-change-section">
            <h2>名前の変更</h2>
            <p>現在の名前: <span id="current-name"></span></p> <!-- ここに現在の名前を表示 -->
            <label for="new-name">新しい名前:</label>
            <input type="text" id="new-name" placeholder="新しい名前を入力" required>

            <a href="javascript:void(0);" id="change-name" class="change-name-button">名前を変更</a>
        </div>

        <a href="mypage.html" class="back-button">戻る</a>
    </div>

    <footer>
        <p>© 2024 たびとも</p>
    </footer>

</body>

<script>
    // URLパラメータまたはローカルストレージからadminnameを取得
    const urlParams2 = new URLSearchParams(window.location.search);
    let username = urlParams2.get('username');

    // adminnameがURLパラメータにある場合はローカルストレージに保存
    if (username) {
        localStorage.setItem('username', username);
    } else {
        // URLパラメータがない場合はローカルストレージから取得
        username = localStorage.getItem('username');
    }

    // adminnameが存在する場合にページに表示
    if (username) {
        // ヘッダー内に表示
        document.getElementById('username-display').textContent = `name: ${username}`;
        
        // 現在の名前に表示
        document.getElementById('current-name').textContent = username;
    } else {
        // ユーザー名が取得できなかった場合の処理（必要に応じて追加）
        document.getElementById('username-display').textContent = 'name: 未設定';
        document.getElementById('current-name').textContent = '未設定';
    }
</script>

<script src="../js/rename.js" defer></script>

</html>
